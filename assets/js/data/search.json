[ { "title": "[Vue.js] SVG å¼•å…¥èˆ‡ Typescript å‹åˆ¥è¨­å®š", "url": "/posts/vue-svg-import/", "categories": "Vue.js, Vue, Vite", "tags": "Node.js, Javascript, Vue.js, Vue3, Vite, Typescript, SVG", "date": "2025-08-14 16:00:00 +0800", "content": "âŒéŒ¯èª¤ç¤ºç¯„ å¦‚ä½•åœ¨vueå°ˆæ¡ˆè£¡ä½¿ç”¨ svg æª”æ¡ˆï¼Œæœ€ç›´è¦ºçš„åšæ³•ï¼š &lt;template&gt; &lt;svg&gt; &lt;use href=\"./assets/penguin-svgrepo-com.svg\" width=\"50%\" height=\"50%\" /&gt; &lt;/svg&gt; &lt;/template&gt; é–‹ç™¼éšæ®µåªè¦æ³¨æ„è·¯å¾‘æ­£ç¢ºï¼Œå°±èƒ½æ­£å¸¸é¡¯ç¤ºã€‚ ä½†ç·¨è­¯åˆ°æ­£å¼ç’°å¢ƒæ™‚ï¼Œé€™æ®µ &lt;use&gt; æ¨™ç±¤ä½¿ç”¨äº† href=\"data:image/svg+xml,... ä¾†åµŒå…¥ SVG åœ–ç‰‡ï¼Œä½†é€™ç¨®ç”¨æ³•åœ¨ &lt;use&gt; ä¸Šæ˜¯ç„¡æ•ˆçš„ï¼Œå› æ­¤åœ–ç¤ºä¸æœƒæ­£ç¢ºé¡¯ç¤ºã€‚ æ”¹ç”¨åœ–ç‰‡ &lt;img&gt; ä¾†è™•ç†æˆ–è¨±å¯ä»¥è§£æ±ºï¼š &lt;img src=\"data:image/svg+xml,&lt;svg ...&gt;...\" /&gt; é›–ç„¶é€™æ¨£ç€è¦½å™¨å°±æœƒæŠŠå®ƒç•¶æˆåœ–ç‰‡æ­£å¸¸é¡¯ç¤ºï¼Œä½†ç„¡æ³•ç”¨ CSS æ”¹ fill æˆ– strokeï¼Œå¯èª¿æ•´æ€§è¼ƒå·®ã€‚ âœ”ï¸è§£æ±ºæ–¹æ³• 1. å®‰è£ vite-svg-loader åŠè¨­å®š npm install -D vite-svg-loader æ¥è‘—ï¼Œvite.config.tsä¹Ÿè¦å¢åŠ è¨­å®šï¼š import svgLoader from 'vite-svg-loader'; export default { plugins: [ svgLoader(), ], // ... }; 2. æ–°å¢å‹åˆ¥å®£å‘Š å‡è¨­å°ˆæ¡ˆä¸¦ä¸æ˜¯ä½¿ç”¨ Typescriptï¼Œå¯ä»¥çœç•¥é€™å€‹æ­¥é©Ÿã€‚ æ–°å¢ vite-env.d.tsï¼Œå…¶ä¸»è¦ç”¨é€”æ˜¯ç‚º Vite å°ˆæ¡ˆæä¾›å‹åˆ¥å®£å‘Šã€‚å®ƒèƒ½ç¢ºä¿ä½ çš„ TypeScript å°ˆæ¡ˆèƒ½å¤ æ­£ç¢ºè­˜åˆ¥å’Œè™•ç† Vite ç‰¹æœ‰çš„åŠŸèƒ½ï¼Œè€Œä¸æœƒå ±éŒ¯ã€‚ ç°¡å–®ä¾†èªªï¼Œå®ƒå°±åƒä¸€å€‹ç¿»è­¯å®˜ï¼Œå‘Šè¨´ TypeScript ç·¨è­¯å™¨ï¼šã€Œå˜¿ï¼ŒVite æœƒè™•ç†é€™äº›ç‰¹æ®Šæª”æ¡ˆï¼Œè«‹ä¸è¦å ±éŒ¯ï¼Œå®ƒå€‘çš„å‹åˆ¥æ˜¯é•·é€™æ¨£ã€‚ã€ // src/vite-env.d.ts declare module '*.svg' { const content: string export default content } ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ env.d.tsã€‚ä½† vite-env.d.ts çš„å‘½åæ–¹å¼æ›´æ˜ç¢ºåœ°è¡¨ç¤ºå®ƒæ˜¯ç‚º Vite å°ˆæ¡ˆæœå‹™çš„ã€‚ å»ºè­°æ”¾åœ¨ src/ è³‡æ–™å¤¾çš„æ ¹ç›®éŒ„ï¼ŒVite æœƒè‡ªå‹•å°‹æ‰¾è³‡æ–™å¤¾ä¸­çš„ env.d.ts æˆ– vite-env.d.ts æª”æ¡ˆï¼Œä¸¦å°‡å…¶è¦–ç‚ºå°ˆæ¡ˆçš„å‹åˆ¥å®£å‘Šã€‚ å¦‚æœä½ å°‡å®ƒæ”¾åœ¨å…¶ä»–ä½ç½®ï¼Œä½ éœ€è¦åœ¨ tsconfig.json çš„ include æˆ– files æ¬„ä½ä¸­æ‰‹å‹•æŒ‡å®šå®ƒçš„è·¯å¾‘ï¼Œç¢ºä¿ TypeScript ç·¨è­¯å™¨èƒ½å¤ æ‰¾åˆ°å®ƒã€‚ 3. ä½¿ç”¨ svg æœ€å¾Œåªè¦èª¿æ•´å¼•ç”¨çš„æ–¹æ³•ï¼Œå¯ä»¥æŠŠ svg ç•¶ä½œä¸€å€‹ component ä¾†ä½¿ç”¨ã€‚ &lt;template&gt; &lt;Penguin /&gt; &lt;/template&gt; &lt;script setup lang=\"ts\"&gt; import Penguin from '@/assets/penguin.svg' &lt;/script&gt; é€™æ¨£ä¸€ä¾†åŸæœ¬æ”¯æ´çš„ attr éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š &lt;Penguin width=\"200\" height=\"200\" /&gt; åƒè€ƒè³‡æ–™ï¼š https://www.npmjs.com/package/vite-svg-loader " }, { "title": "[React] JSX å¸¸è¦‹èªæ³•é›·å€", "url": "/posts/react-jsx-common-mistakes/", "categories": "React, JSX", "tags": "React, Javascript, JSX", "date": "2025-07-27 16:00:00 +0800", "content": "1. JSX ä¸­ HTML æ¨™ç±¤å¿…é ˆè‡ªé–‰åˆ HTML ä¸­ input æ˜¯ void elementï¼Œæœ¬ä¾†ä¸éœ€è¦é–‰åˆæ¨™ç±¤ã€‚ // âœ… æ­£ç¢º &lt;input type=\"text\" /&gt; // âŒ éŒ¯èª¤ &lt;input type=\"text\"&gt; // JSX æœƒå ±éŒ¯ 2. class è¦æ”¹å¯«æˆ className JSX æ˜¯ JavaScriptï¼Œä¸å…è¨±ä½¿ç”¨ JS é—œéµå­— classã€‚ // âœ… æ­£ç¢º &lt;div className=\"box\" /&gt; // âŒ éŒ¯èª¤ &lt;div class=\"box\" /&gt; // React ä¸èªå¾— 3. for è¦æ”¹å¯«æˆ htmlFor è¡¨å–® label çš„ for åœ¨ JSX ä¸­æ˜¯ä¿ç•™å­—ï¼Œè¦æ”¹æˆ htmlForï¼š &lt;label htmlFor=\"email\"&gt;Email&lt;/label&gt; 4. JS è¡¨é”å¼è¦æ”¾åœ¨ {} è£¡ Vue.js template å‰‡ä½¿ç”¨æ˜¯é›™æ‹¬è™Ÿ `` const name = \"Annie\"; // âœ… æ­£ç¢º &lt;p&gt;Hello, {name}&lt;/p&gt; &lt;h1&gt;{name.toUpperCase()}&lt;/h1&gt; // âŒ éŒ¯èª¤ &lt;p&gt;Hello, &lt;/p&gt; 5. style éœ€ç”¨ç‰©ä»¶å¯«æ³•ï¼Œä¸”å€¼è¦åŠ å¼•è™Ÿæˆ–è½‰æˆ string style ç‰©ä»¶çš„ key æ˜¯ camelCaseï¼ˆå¦‚: fontSizeï¼‰ï¼Œä¸åŒæ–¼ HTML/CSS çš„ kebab-caseï¼ˆå¦‚: font-sizeï¼‰ // âœ… æ­£ç¢º &lt;div style= /&gt; // âŒ éŒ¯èª¤ &lt;div style=\"color: red; font-size: 16px;\" /&gt; // HTML å¯«æ³•ä¸æ”¯æ´ é›™æ‹¬è™Ÿè®“è§£è®€å›°é›£ï¼Œå› æ­¤ä¹ŸæŠŠç‰©ä»¶å…ˆå„²å­˜åˆ°ä¸€å€‹è®Šæ•¸ä¸­å†å‚³çµ¦ styleï¼Œæ•ˆæœå®Œå…¨ä¸€æ¨£ã€‚ const config = { color: 'red', fontSize: '16px' }; const element = &lt;div style={config} /&gt; 6. JSX è£¡åªèƒ½å›å‚³å–®ä¸€æ ¹å…ƒç´  å¿…é ˆä½¿ç”¨ Fragment // âœ… æ­£ç¢ºï¼ˆä½¿ç”¨ &lt;&gt;&lt;/&gt; Fragmentï¼‰ return ( &lt;&gt; &lt;Header /&gt; &lt;Content /&gt; &lt;/&gt; ); // âŒ éŒ¯èª¤ï¼ˆJSX ä¸­ä¸èƒ½ return å…©å€‹å¹³è¡Œå…ƒç´ ï¼‰ return ( &lt;Header /&gt; &lt;Content /&gt; ); 7. äº‹ä»¶å¯«æ³•æ˜¯é§å³°å‘½åï¼Œå€¼æ˜¯å‡½å¼ éå¸¸å®¹æ˜“èˆ‡ HTML åŸæœ¬çš„å¯«æ³•æ··æ·† // âœ… æ­£ç¢º &lt;button onClick={handleClick}&gt;Click&lt;/button&gt; // âŒ éŒ¯èª¤ &lt;button onclick=\"handleClick()\"&gt;Click&lt;/button&gt; 8. æ¢ä»¶æ¸²æŸ“ åœ¨ JSX ä¸­ï¼Œæ²’æœ‰åƒ Vue.js çš„ v-if é‚£æ¨£çš„æŒ‡ä»¤èªæ³•ï¼Œä½†å¯ä»¥ç”¨ JavaScript è¡¨é”å¼ä¾†å¯¦ç¾ç›¸åŒçš„åŠŸèƒ½ï¼Œæˆ–æ˜¯ä¸‰å…ƒé‹ç®—æˆ–é‚è¼¯ (&amp;&amp;) ä¾†é”åˆ°æ¢ä»¶æ¸²æŸ“ã€‚ {isLoading &amp;&amp; &lt;Loading /&gt;} {isLoggedIn ? &lt;Dashboard /&gt; : &lt;Login /&gt;} 8. æ¢ä»¶å¼ç‚º 0 æ™‚ï¼Œé€šå¸¸æ˜¯éé æœŸçš„é¡¯ç¤ºçµæœ åƒé€™æ¨£ isLoading ç‚º booleanï¼ŒTrue é¡¯ç¤º Loadingã€‚ {isLoading &amp;&amp; &lt;Loading /&gt;} '', null, False ä»£è¡¨å¦å®šã€ä¸æœƒé¡¯ç¤ºä»»ä½•å…§å®¹ï¼Œ0 é›–ç„¶ä¹Ÿæ­¸é¡æˆå¦å®šï¼Œå° jsx å»æ˜¯å¯ä»¥æ­£ç¢ºé¡¯ç¤ºåœ¨ç•«é¢ä¸Šçš„å€¼ï¼Œå‹™å¿…è¦è®“æ¢ä»¶è¼¸å‡ºæˆ boolean ä¾†é¿å…å•é¡Œã€‚ // âœ… æ­£ç¢º {item.length &gt; 0 &amp;&amp; &lt;List item={item} /&gt;} // âŒ éŒ¯èª¤ {item.length &amp;&amp; &lt;List item={item} /&gt;} // å¾—åˆ°çš„çµæœæ˜¯ {0} 10. åˆ—è¡¨æ¸²æŸ“ JSX æœ¬è³ªä¸Šå°±æ˜¯ JavaScript + HTML çš„æ··åˆèªæ³•ï¼Œæ‰€æœ‰é‚è¼¯è«‹äº¤çµ¦ JS è™•ç†ï¼ŒVue.js çš„ v-for å¯ä»¥å°æ‡‰åˆ° .map()ï¼ŒåŒæ¨£è¦è¨­å®š key å±¬æ€§ï¼Œå…¶å€¼å¿…é ˆå”¯ä¸€ã€‚ {items.map((item, index) =&gt; ( &lt;li key={index}&gt;{item}&lt;/li&gt; ))} " }, { "title": "Vue3.2 &lt;script setup&gt; å¯¦ä½œ TodoMVC", "url": "/posts/vue3-script-setup/", "categories": "Vue.js, Vue", "tags": "Vue.js, Vue3, Node.js, Javascript", "date": "2022-07-25 16:00:00 +0800", "content": "Vue3.2é–‹å§‹å°‡ &lt;script setup&gt; ç§»é™¤experimental statusï¼Œå’Œsetup()å€åˆ¥åœ¨æœ‰è¨±å¤š option API æœ‰äº†æ›¿ä»£æ–¹æ¡ˆï¼Œprops, emit ä¹Ÿå¯ä»¥å¯«åœ¨ setupï¼Œvariable æˆ– function ä¹Ÿä¸éœ€è¦é€é return æ‰èƒ½è®“ &lt;template&gt; ä½¿ç”¨ï¼Œå“‡ï¼å¯«æ³•æ€éº¼å¥½åƒæœ‰é»æ—¢æ˜¯æ„Ÿå‘¢ ä¸‹é¢æœƒåˆ©ç”¨ TodoMVC çš„ç·´ç¿’ï¼Œæ¯”è¼ƒèˆ‡çµ±æ•´ &lt;script setup&gt; å’Œ setup() å¸¸ç”¨çš„æ–¹æ³•çš„å·®ç•°ã€‚ TodoMVC å®Œæ•´ç¨‹å¼ç¢¼ä¸Šå‚³è‡³ Github (é€£çµ)ã€‚ data setup() &lt;script&gt; import { ref } from 'vue'; export default { setup() { const newTodo = ref(undefined); return { newTodo, }; }, } &lt;/script&gt; &lt;script setup&gt; å®£å‘Š ref æ²’æœ‰å·®ç•°ï¼Œå·®åœ¨éœ€ä¸éœ€è¦ return &lt;script setup&gt; import { ref } from 'vue'; const newTodo = ref(undefined); &lt;/script&gt; component &lt;template&gt; &lt;TodoListEditor /&gt; &lt;/template&gt; setup() &lt;script&gt; import TodoListEditor from 'components/TodoListEditor.vue'; export default { components: { TodoListEditor, }, } &lt;/script&gt; &lt;script setup&gt; import ä¹‹å¾Œå°±å¯ä»¥ç›´æ¥åœ¨ &lt;template&gt; ä½¿ç”¨ &lt;script setup&gt; import TodoListEditor from 'components/TodoListEditor.vue'; &lt;/script&gt; props setup() &lt;script&gt; export default { props: { todoList: { required: true, type: Array, }, }, } &lt;/script&gt; &lt;script setup&gt; defineProps è£¡é¢å…§å®¹èˆ‡ä¹‹å‰ props ç›¸åŒ &lt;script setup&gt; const props = defineProps({ todoList: { required: true, type: Array, }, }); &lt;/script&gt; emit setup() &lt;script&gt; export default { emits: ['remove:todo', 'update:todo'], setupt(props, {emit}) { function removeTodoItem(id){ emit('remove:todo', id); } }, } &lt;/script&gt; &lt;script setup&gt; defineEmits è£¡é¢å…§å®¹èˆ‡ä¹‹å‰ emits ç›¸åŒ &lt;script setup&gt; const emit = defineEmits(['remove:todo', 'update:todo']); function removeTodoItem(id){ emit('remove:todo', id); } &lt;/script&gt; directive directiveæ˜¯æ‰€æœ‰å¯«æ³•ä¸­æˆ‘æœ€ä¸é©æ‡‰çš„ï¼Œåº•ä¸‹æ˜¯é é¢è¼‰å…¥æ™‚å¯ä»¥æœ‰ autofocus çš„æ•ˆæœï¼Œå¯ä»¥æ ¹æ“šä¸åŒ lifecyle å®šç¾©ï¼Œåˆ©å¦‚ mouted &lt;input v-model=\"newTodo\" v-focus&gt; setup() &lt;script&gt; const focus = { mounted: el =&gt; el.focus(), }; export default { directives: { focus, }, } &lt;/script&gt; &lt;script setup&gt; &lt;script setup&gt; const vFocus = { mounted: el =&gt; el.focus(), }; &lt;/script&gt; lifecyle åŸºæœ¬ä¸Šæ²’æœ‰ä»€éº¼å€åˆ¥ setup() &lt;script&gt; import {onMounted} from 'vue'; export default { setup() { onMounted(() =&gt; { // to something }); }, } &lt;/script&gt; &lt;script setup&gt; &lt;script setup&gt; import {onMounted} from 'vue'; onMounted(() =&gt; { // to something }); &lt;/script&gt; " }, { "title": "mocha + webpack çš„ Vue3 å…ƒä»¶å–®å…ƒæ¸¬è©¦", "url": "/posts/vue3-unit-test-by-mocha-webpack/", "categories": "Unit Test, Mocha, Vue", "tags": "Node.js, Javascript, Vue.js, Vue3, Mocha, Webpack5, Unit Test, Chai", "date": "2022-07-24 16:00:00 +0800", "content": "å…ˆèªªçµè«–ï¼Œæˆ‘èªç‚ºä¸é©åˆç”¨ mocha é€²è¡Œ vue3 å–®å…ƒæ¸¬è©¦(@vue/test-utils)ï¼Œåè¦†æŸ¥äº†å¾ˆä¹…çš„è³‡æ–™ï¼Œç›¸é—œçš„å¥—ä»¶æ”¯æ´åº¦ä¸è¶³ç­‰æœ‰é‡é‡çš„éšœç¤™ï¼Œæ ¹æ“š @vue/test-utils ç›®å‰æä¾›çš„æ¸¬è©¦ç¯„ä¾‹ï¼Œé¸æ“‡ Vitest æœƒæ›´é©åˆã€‚ å®Œæ•´ç¨‹å¼ç¢¼ä¸Šå‚³è‡³ Github (é€£çµ)ã€‚ ä¸€ã€å®‰è£ é¦–å…ˆï¼Œç¬¬ä¸€å€‹å•é¡Œå°±æ˜¯ vue çš„ç‰ˆæœ¬ä¸èƒ½å¤ªæ–°ï¼Œç›®å‰åªæ”¯æ´ 3.0.7ï¼Œå› æ­¤å°æ‡‰å®‰è£äº†ç›¸åŒç‰ˆæœ¬çš„ @vue/server-renderer npm install --save-dev @vue/server-renderer@3.0.7 å†ä¾†è«‹å®‰è£ webpck å’Œ mochaï¼Œmochapackï¼Œmochapack æ˜¯ç”¨ä¾†è®€å– webpack è¨­å®šå°‡å…ƒä»¶ render å‡ºä¾†çš„å¥—ä»¶ï¼Œå¯æ”¯æ´ webpack5 å’Œ mocha 9 npm install --save-dev webpack mocha mochapack å…¶ä»–æœ‰å…©å€‹é¡ä¼¼çš„å¥—ä»¶ï¼š mocha-webpack: mocha: â€˜&gt;=4 &lt;=5â€™ webpack: â€˜^4.0.0â€™ instant-mocha: mocha: â€˜^6.1.4 || ^8.3.2â€™ webpack: â€˜^4.40.0 || ^5.0.0â€™ mochapack æ˜¯ç”± mocha-webpack å»¶ä¼¸è€Œä¾†çš„ï¼Œä¸‰è€…ç”¨æ³•éƒ½éå¸¸æ¥è¿‘ï¼Œä½†ä¸Šè¿°å…©å€‹å° webpack å’Œ mocha ç‰ˆæœ¬çš„æ”¯æ´åº¦éƒ½æ¯” mochapack å·® å†ä¾†è«‹å®‰è£ vue3 å®˜æ–¹çš„å…ƒä»¶æ¸¬è©¦å¥—ä»¶ @vue/test-utils npm install --save-dev @vue/test-utils mocha ä¸åƒæ˜¯ jest å·²ç¶“å…§å»ºæ”¯æ´ jsdomã€assertion ï¼Œæ‰€ä»¥è¦å¦å¤–å®‰è£ npm install --save-dev webpack-node-externals jsdom-global npm install --save-dev expect äºŒã€è¨­å®š æ–°å¢æ¸¬è©¦å°ˆç”¨çš„ webpack è¨­å®šæª” webpack.config-test.js const nodeExternals = require('webpack-node-externals'); const { VueLoaderPlugin } = require('vue-loader'); module.exports = { mode: 'development', target: 'node', // webpack should compile node compatible code externals: [nodeExternals()], // in order to ignore all modules in node_modules folder devtool: 'inline-cheap-module-source-map', module: { rules: [ { test: /\\.vue$/, loader: 'vue-loader', }, { test: /\\.css$/i, use: ['style-loader', 'css-loader'], }, ], }, plugins: [ new VueLoaderPlugin(), ], }; è¨­å®š jsdom è¨­å®šæª” src/tests/setup.js require('jsdom-global')(); æœ€å¾Œï¼Œè«‹åˆ° package.json è¨­å®š script æŒ‡ä»¤ { \"scripts\": { \"test\": \"npx mochapack --webpack-config webpack.config-test.js --require src/tests/setup.js src/tests/**/*.spec.js\", } } Usage: mochapack [options] [&lt;file|directory|glob&gt; â€¦] Options ã€€â€“webpack-configã€€ã€€path to webpack-config file ã€€â€“require, -rã€€ã€€ã€€ã€€require the given module ä¸‰ã€åŸ·è¡Œ æ–°å¢æ¸¬è©¦(ç¯„ä¾‹è«‹åƒè€ƒ Counter.spec.js)å¾Œ,åŸ·è¡ŒæŒ‡ä»¤å³å¯ npm run test å››ã€é™åˆ¶ ç„¡æ³•æ”¯æ´æœ€æ–° vue3 ç„¡æ³•æ”¯æ´ç›®å‰ vue æœ€æ–°ç‰ˆæœ¬ 3.2.37ï¼Œç™¼ç¾åº•ä¸‹éŒ¯èª¤è¨Šæ¯ ReferenceError: SVGElement is not defined ç„¡æ³•æ”¯æ´ SFC ç„¡æ³•æ”¯æ´ SFC ï¼Œç™¼ç¾åº•ä¸‹è­¦å‘Šè¨Šæ¯: [Vue warn]: Component is missing template or render function. åƒè€ƒæ–‡ä»¶ ç”¨ Mocha å’Œ webpack æ¸¬è©¦å–®æ–‡ä»¶çµ„ä»¶ mochapack æ–‡ä»¶ taroæ–°å»ºvue3é¡¹ç›®åï¼Œç¼–è¯‘æˆå°ç¨‹åºç«¯æŠ¥é”™ReferenceError: SVGElement is not defined " }, { "title": "Github Action è‡ªå‹•éƒ¨ç½² github-pages", "url": "/posts/auto-deploy-github-pages/", "categories": "CI/CD, Github Action", "tags": "CI/CD, Github Action", "date": "2022-06-28 16:00:00 +0800", "content": "Github pages é©åˆå±•ç¤ºéœæ…‹é é¢ï¼Œåªè¦åœ¨ github å»ºç«‹ gh-pages åˆ†æ”¯ï¼Œå¯ä¾æ“šç”¨æˆ¶åç¨±å’Œrepoåç¨±ä¾†é–‹å•Ÿé é¢ã€‚ https://[USER_NAME].github.io/[REPO_NAME]/ ä»¥é€™å€‹å°ˆæ¡ˆç‚ºä¾‹ https://github.com/chenuin/JavaScript30 è·¯å¾‘æœƒæ˜¯ https://chenuin.github.io/JavaScript30/ ä½¿ç”¨ JamesIves/github-pages-deploy-action@v4.3.3 æœ‰å…©å€‹å¿…å¡«åƒæ•¸ï¼š branch: åˆ†æ”¯ folder: ç›®éŒ„ï¼Œ.ä»£è¡¨æ•´å€‹repoæ ¹ç›®éŒ„ åƒæ•¸è©³ç´°èªªæ˜è«‹åƒè€ƒé€™è£¡ï¼Œåœ¨ repo è£¡æ–°å¢ github action (é€£çµ): name: Github pages on: # Triggers the workflow on push events but only for the \"master\" branch push: branches: master # Allows you to run this workflow manually from the Actions tab workflow_dispatch: jobs: build: runs-on: ubuntu-latest steps: - name: Checkout ğŸ›ï¸ uses: actions/checkout@v3 - name: Deploy ğŸš€ uses: JamesIves/github-pages-deploy-action@v4.3.3 with: branch: gh-pages folder: . token: $ GH_PAT è¨­å®šæ–¹å¼ï¼Œè«‹å…ˆè‡³ Settings =&gt; Developer settings =&gt; Personal access tokens (æˆ–ä¸‹æ–¹é€£çµ)ï¼ŒæŒ‰å³ä¸Šè§’æ–°å¢Tokenï¼Œscopes å¯ç›´æ¥å‹¾é¸ repo ä¸¦å°‡Tokenè¤‡è£½ã€‚ https://github.com/settings/tokens å†åˆ°å°ˆæ¡ˆçš„ Settings =&gt; Secrets =&gt; Actions (æˆ–ä¸‹æ–¹é€£çµ)ï¼ŒæŒ‰å³ä¸Šè§’æ–°å¢ï¼Œå‘½å GH_PAT ä¸¦å°‡å‰›å‰›è¤‡è£½çš„Tokenè²¼ä¸Šã€‚ https://github.com/[USER_NAME]/[REPO_NAME]/settings/secrets/actions ç›¸é—œæ–‡ç«  Github Actions è‡ªå‹• Jekyll å°ˆæ¡ˆéƒ¨å±¬ Github Pages [Github] åœ¨github.ioå»ºç«‹å…è²»çš„ç¶²ç«™ " }, { "title": "ã€å‡ç‰ˆæŒ‡å—ã€‘Vue3 éå…¼å®¹çš„ç‰¹æ€§ v-model è·Ÿ Vue2 å®Œå…¨ä¸ä¸€æ¨£", "url": "/posts/v-model-vue3-migration-strategy/", "categories": "Vue.js, Vue", "tags": "Node.js, Javascript, Vue.js, Vue3, Migration Strategy", "date": "2022-06-25 16:00:00 +0800", "content": "Vue2 èˆ‡ Vue3 æ¯”è¼ƒ vue2 v-model çš„ä½¿ç”¨æ–¹å¼åœ¨é€™ç¯‡ã€Œ[Vue.js] å¦‚ä½•åœ¨componentè‡ªè¨‚v-modelã€ä»‹ç´¹ï¼Œç°¡å–®èªªå°±æ˜¯çµåˆv-modelå…¶å¯¦ç¶å®šäº†åç‚º value çš„ props å’Œ input çš„ emitäº‹ä»¶ï¼Œå› æ­¤æ‰€è¬‚çš„ v-model å°±æ˜¯ä¸€å€‹çˆ¶å­å…ƒä»¶çš„é›™å‘æºé€šï¼Œåœ¨ vue2 å…©è€…æ˜¯ç›¸åŒçš„ï¼š &lt;input v-model=\"username\"&gt; &lt;input :value=\"username\" @input=\"(value)=&gt;(username=value)\"&gt; ä½†æ˜¯ï¼ vue3 props é è¨­åç¨±å¾ value æ”¹ç‚º modelValue ï¼Œemit åç¨±å‰‡å¾ input æ”¹ç‚º update:modelValueï¼Œå¦‚æœç”¨éŒ¯äº†å°±ç„¡æ³•é”æˆé›™å‘çš„ç¶å®šã€‚ &lt;input v-model=\"username\"&gt; &lt;input :model-value=\"username\" @update:modelValue=\"(value)=&gt;(username=value)\"&gt; åœ¨ vue2 ä¸­å¯ä»¥ç”¨è‡ªè¨‚ model ä¾†è‡ªè¨‚ props å’Œ emit åç¨±ï¼Œåœ¨ Vue3 ç§»é™¤ä¸å†æ”¯æ´ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨ modelValue çš„è©±ï¼Œåœ¨ Vue3 å¯ä»¥é€™æ¨£å¯«ï¼š &lt;MyComponent v-model:username=\"username\" /&gt; &lt;MyComponent :username=\"username\" @update:username=\"(value)=&gt;(username=value)\" /&gt; å…ƒä»¶æœ¬èº«æ‡‰è©²å¢åŠ é€™å€‹ props,æ›´æ–°æ™‚æœƒå‘¼å« update:username props: { username: { type: String, required: true, }, } è·Ÿ vue2 .sync æœ‰é»ç›¸ä¼¼ï¼Œvue3ä¸å†æ”¯æ´ .sync ï¼Œå¯«æ³•æœƒæ˜¯ v-model:[NAME] å¾Œé¢ Name å°±æ˜¯æƒ³è‡ªè¨‚çš„åç¨±ï¼Œæ›´æ–°æ™‚ update:[NAME]ï¼Œä»¥äº‹ä»¶åç¨±ä¾†çœ‹ä¸ç®—æ˜¯å®Œå…¨å®¢è£½ï¼Œé ˆæŒ‰ç…§è¦å‰‡è§¸ç™¼å‘ä¸Šæ›´æ–° ä½†é€™å€‹ç‰¹æ€§æœ€æ£’çš„æ˜¯æ”¯æ´å¤šçµ„ v-model ï¼Œä½ å¯ä»¥é€™æ¨£å¯«ï¼š &lt;MyComponent v-model:username=\"username\" v-model:password=\"password\" /&gt; é‡é»æ•´ç† ç¸½çµå°‡ vue2 å‡è‡³ vue3ï¼Œv-model æ‡‰è©²æ³¨æ„ä¸‰å€‹åœ°æ–¹ï¼š ä¸å†ä½¿ç”¨ .sync &lt;MyComponent :username.sync=\"name\" /&gt; &lt;!-- to be replaced with --&gt; &lt;MyComponent v-model:username=\"name\" /&gt; å°‡æ‰€æœ‰çš„ value å’Œ input å’Œ modelValue å’Œ update:modelValue &lt;MyComponent v-model=\"name\" /&gt; export default { props: { modelValue: String, // \"vaule\" is replaced }, emits: ['update:modelValue'], methods: { changeName(name) { this.$emit('update:modelValue', name); // \"input\" is replaced }, }, }; ä¸å†ä½¿ç”¨ model ç›´æ¥ç”¨ v-modelã€v-model:[Name] åƒè€ƒæ–‡ç« : https://v3-migration.vuejs.org/breaking-changes/v-model.html " }, { "title": "Vue3+jest æ¸¬è©¦ composable ç¯„ä¾‹", "url": "/posts/vue3-jest-composable-testing/", "categories": "Unit Test, Jest, Vue.js, Vue", "tags": "Node.js, Javascript, Vue.js, Vue3, Composition API, Unit Test, Jest, Composable", "date": "2022-05-28 16:00:00 +0800", "content": "Composable èˆ‡ Mixin æ¯”è¼ƒ Vue3 çš„ composable ä¹çœ‹ä¸‹å’Œ mixin ç”¨é€”å¾ˆé¡ä¼¼ï¼Œå¯ä»¥æä¾›å„å€‹å…ƒä»¶å…±ç”¨ç¨‹å¼ç¢¼ã€‚ä½†èˆ‡ mixin ç›¸æ¯”ï¼Œcomposable ä¸»è¦æœ‰ä¸‰å€‹å„ªå‹¢ï¼š ç¬¬ä¸€ï¼Œå…ƒä»¶å¯ä»¥å¾ˆæ˜ç¢ºçš„å€åˆ†ä½¿ç”¨çš„ composable ä¾†æºï¼Œç•¶ä½¿ç”¨çš„ mixin ä¸€å¤šæ™‚ï¼Œè¿½æœ”ä¾†æºç›¸å°å›°é›£ï¼Œç„¡æ³•ä¸€çœ¼çœ‹å‡ºç”±å“ªå€‹ mixin å¯¦ä½œã€‚ ç¬¬äºŒï¼Œå¤šå€‹ mixin ç„¡æ³•ç¢ºä¿ä½¿ç”¨äº†ç›¸åŒçš„åç¨±ï¼Œå¯èƒ½é€ æˆè¦†è“‹ï¼Œä½† composable å³ä½¿æœ‰ç›¸åŒçš„åç¨±ï¼Œä¹Ÿèƒ½é€éçµæ§‹å¼è³¦å€¼ã€é‡æ–°å‘½åã€‚ æœ€å¾Œï¼Œå¤šå€‹ mixin éœ€è¦äº¤äº’ä½œç”¨æ™‚ï¼Œé€šå¸¸æœƒä½¿ç”¨ç›¸åŒçš„åƒæ•¸å‘½åä¾†é”åˆ°é€™å€‹ç›®çš„ï¼Œéš±æ€§çš„è€¦åˆä½¿å¾—è¾¨è­˜å’Œdebugé›£åº¦å¢åŠ ï¼Œcomposableå¯è—‰ç”±å…¶ä¸€çš„å›å‚³å€¼ï¼Œä½œç‚ºå…¶ä»–composableè¼¸å…¥çš„åƒæ•¸é”åˆ°å…±äº«çš„ç›®çš„ã€‚(åƒè€ƒè³‡æ–™) é–‹å§‹æ¸¬è©¦ å®‰è£ Jest æ¸¬è©¦ vue æ™‚ï¼Œé¦–å…ˆè¦æ³¨æ„ç‰ˆæœ¬ï¼Œè«‹åƒè€ƒä¸‹é¢çš„å°ç…§è¡¨å®‰è£å¥—ä»¶ï¼š Vue version Jest Version npm Package Vue 2 Jest 26 and below vue-jest@4 Vue 3 Jest 26 and below vue-jest@5 Vue 2 Jest 27 and above @vue/vue2-jest@27 Vue 3 Jest 27 and above @vue/vue3-jest@27 Vue 2 Jest 28 and above @vue/vue2-jest@28 Vue 3 Jest 28 and above @vue/vue3-jest@28 With lifecyle composable çš„æ¸¬è©¦ä¸»è¦åˆ†æˆå…©ç¨®ï¼Œç¬¬ä¸€ç¨®å…ƒä»¶æ¯”è¼ƒç„¡é—œï¼Œå¯ä»¥ç•¶ä½œæ™®é€šçš„ js code æ¸¬è©¦ã€‚ import {ref} from 'vue'; export function useCounter() { const count = ref(0); const increment = () =&gt; count.value++; return { count, increment, }; }; import {useCounter} from './counter.js'; test('useCounter', () =&gt; { const {count, increment} = useCounter() expect(count.value).toBe(0); increment(); expect(count.value).toBe(1); }); With lifecyle å¦‚æœ composable ç‰½æ¶‰åˆ°å…ƒä»¶ lifecyle hooks æˆ–æ˜¯ provide/inject æ™‚ï¼Œéœ€è¦ä¾é™„ä¸€å€‹å…ƒä»¶é€²è¡Œæ¸¬è©¦ã€‚ import {createApp} from 'vue'; export function withSetup(composable) { let result; const app = createApp({ setup() { result = composable(); // suppress missing template warning return () =&gt; {}; }, }); app.mount(document.createElement('div')); // return the result and the app instance // for testing provide / unmount return [result, app]; }; import {ref, onMounted} from 'vue'; export function useCounter() { const count = ref(0); const increment = () =&gt; count.value++; onMounted(() =&gt; { increment(); }); return { count, increment, }; }; result æ˜¯ composable çš„å›å‚³å€¼(return)ï¼Œæ¸¬è©¦è£¡é¢ app.mount();ï¼Œå°‡åŸ·è¡Œ onMountedï¼š import {withSetup} from './test-utils'; import {useCounter} from './counter.js' test('useCounter', () =&gt; { const [result, app] = withSetup(() =&gt; useCounter()); // run assertions expect(result.count.value).toBe(0); // trigger onMounted hook if needed app.mount(); expect(result.count.value).toBe(1); }); å¦å¤–é‚„æœ‰ä¸€å€‹å¸¸çŠ¯çš„éŒ¯èª¤ï¼Œå…ˆçœ‹ composable ç¨‹å¼ç¢¼ï¼Œæœ‰ä¸€å€‹ computed ä½¿ç”¨ formatFn è½‰æ› listï¼š import {computed, unref} from 'vue'; export function useListFormatter(list, formatFn) { const formattedList = computed(() =&gt; ( unref(list).map(item =&gt; formatFn(item)) )); return { formattedList, }; }; æ¸¬è©¦æ™‚éœ€è¦æ³¨æ„å›å‚³å€¼è¢«ä½¿ç”¨ä¹‹å‰ï¼ŒformattedList ä¸æœƒè¢«åŸ·è¡Œã€‚ import {useListFormatter} from './useListFormatter.js'; test('useListFormatter', () =&gt; { const list = ['a', 'b']; const formatFn = jest.fn(); formatFn.mockImplementation(value =&gt; `new-${value}`) const {formattedList} = useListFormatter(); // Don't do it! formatFn won't be excuted until formattedList is called. // expect(formatFn).toHaveBeenCalled(); expect(formatFn).not.toHaveBeenCalled(); expect(formattedList.value).toEqual(['new-a', 'new-b']); expect(formatFn).toHaveBeenCalledTimes(2); expect(formatFn).toHaveBeenNthCalledWith(1, 'a'); expect(formatFn).toHaveBeenNthCalledWith(2, 'b'); }); åƒè€ƒè³‡æ–™ï¼š https://vuejs.org/guide/scaling-up/testing.html#testing-composables " }, { "title": "webpack å¸¸ç”¨ plugin ä»‹ç´¹ - HtmlWebpackPlugin è‡ªå‹•ç”¢ç”Ÿ Html", "url": "/posts/vuejs-html-webpack-plugin/", "categories": "Vue.js, Vue, Webpack", "tags": "å®‰è£æ•™å­¸, Webpcak, Webpack5, Node.js, HTML, Javascript, Linux, Vue.js, Vue3, HtmlWebpackPlugin, Plugins", "date": "2022-01-23 16:00:00 +0800", "content": "æ ¹æ“šã€Œ[Vue.js] å¦‚ä½•å»ºç«‹ Vue3 + webpack5 å°ˆæ¡ˆç¯„ä¾‹ã€çš„å…§å®¹ï¼Œå°è£æ™‚å·²ç¶“å…ˆå»ºç«‹ç›®éŒ„ dist/ ï¼Œæ–°å¢ index.htmlï¼Œé å…ˆå°‡ main.js åŠ åˆ° script ä¸­ã€‚ æ¥è‘—ï¼Œä»¥ä¸‹è¦ä»‹ç´¹ HtmlWebpackPlugin ï¼Œé€™å€‹ webpack plugin å¯ä»¥è‡ªå‹•ç”¢ç”Ÿ Htmlï¼Œä¸¦è‡ªå‹•å°‡æ‰€æœ‰çš„ js æª”åŠ å…¥ script ä¸­ã€‚ä¸‹é¢çš„æ“ä½œæœƒç”¨ vue3-webpack5-template é€™å€‹å°ˆæ¡ˆæ“ä½œï¼Œå¯ä»¥å…ˆ cloneä¸‹ä¾†ä¸¦ npm installã€‚ ä¸€ã€å®‰è£ npm install html-webpack-plugin --save-dev äºŒã€æ–°å¢æ¨¡æ¿ æ–°å¢ index.html ï¼Œä¸¦ä¿ç•™ä¸€äº›å€åŸŸæ–¹ä¾¿æˆ‘å€‘å¯ä»¥è‡ªè¨‚ã€‚ &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"/&gt; &lt;title&gt; &lt;%= htmlWebpackPlugin.options.title %&gt; &lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\"&lt;%= id %&gt;\"&gt;&lt;/div&gt; &lt;/body&gt; &lt;/html&gt; ä¸‰ã€æ–°å¢ Webpack è¨­å®š ç‚ºäº†çªé¡¯ HtmlWebpackPlugin åŠŸèƒ½çš„å¼·å¤§ï¼Œé¦–å…ˆåˆ»æ„å°‡è¼¸å‡ºçš„ js æª”æ¡ˆåç¨±æ”¹ç‚º [name].[contenthash].jsï¼Œé€™æ™‚è®Šå¾—ç„¡æ³•é æœŸç·¨è­¯å¾Œçš„æª”æ¡ˆåç¨±ã€‚ å†ä¾†å°‡ HtmlWebpackPlugin åŠ å…¥ pluginï¼Œå®Œæ•´æª”æ¡ˆè«‹é»é€£çµ // webpack.config.js const HtmlWebpackPlugin = require('html-webpack-plugin'); module.exports = { output: { filename: '[name].[contenthash].js', path: path.resolve(__dirname, 'dist'), }, ... plugins: [ new HtmlWebpackPlugin({ template: 'template/index.html', title: 'Getting Started', templateParameters: { id: 'app', }, }), ], }; ä¸Šé¢å…±ä½¿ç”¨äº†ä¸‰å€‹åƒæ•¸ï¼š template - é¡§åæ€ç¾©æ˜¯æ¨¡æ¿çš„è·¯å¾‘ title - html æª”æ¡ˆçš„ &lt;title&gt; ä¹Ÿèªªæ˜ç‚ºä»€éº¼åœ¨ index.html æœ‰é€™ä¸€æ®µ &lt;%= htmlWebpackPlugin.options.title %&gt; templateParameters - é€™è£¡å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œå°‡ id è¨‚ç‚º appï¼Œå› æ­¤æ¨¡æ¿é€™æ®µç¨‹å¼ç¢¼ï¼Œå°‡æœƒä½¿ç”¨é€™è£¡çš„è¨­å®šè¤‡å¯« &lt;div id=\"&lt;%= id %&gt;\"&gt;&lt;/div&gt; è‹¥è¦äº†è§£æ›´å¤šåƒæ•¸çš„ä½¿ç”¨ï¼Œå¯ä»¥åƒè€ƒæ–‡ä»¶ã€‚ å››ã€åŸ·è¡Œ åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤é–‹å§‹æ‰“åŒ… npm run build ç¨‹å¼ç¢¼å·²ç¶“ push åˆ°åˆ†æ”¯ test-webpack-pluginï¼Œæˆ–è€…åƒè€ƒè®Šæ›´å¯ä»¥æŒ‰é€™è£¡ã€‚ " }, { "title": "Html è½‰ Figma çš„å°å·¥å…· Figma PluginåŒ¯å…¥ç¾æœ‰ç¶²ç«™", "url": "/posts/figma-plugin-html-to-figma/", "categories": "Figma", "tags": "Figma, CSS/SCSS, HTML, Plugins, UI/UX Design", "date": "2021-08-15 16:00:00 +0800", "content": "Figma å¦‚ä½•åŒ¯å…¥ç¾æœ‰ç¶²ç«™ï¼Œå¯ä»¥ä½¿ç”¨ Figma to HTML, CSS, React &amp; more! å¿«é€Ÿè§£æ±ºï¼ å¯ä»¥å…ˆå®‰è£ google chrome çš„æ“´å……åŠŸèƒ½ã€Figmaçš„æ“´å……åŠŸèƒ½ï¼Œå†åˆ°ç¶²ç«™ä½¿ç”¨ google chrome çš„æ“´å……åŠŸèƒ½åŒ¯å‡º Jsonï¼Œä¸¦åˆ° Figma å°‡æª”æ¡ˆåŒ¯å…¥ã€‚ æˆæœé›–ç„¶æœƒå’Œå¯¦éš›ç¶²ç«™æœ‰äº›å·®åˆ¥ï¼Œä½†å¾ˆæ–¹ä¾¿ã€‚ Figmaçš„æ“´å……åŠŸèƒ½ Google Chrome çš„æ“´å……åŠŸèƒ½ æ“ä½œå½±ç‰‡ (youtube) " }, { "title": "webpack5 å®‰è£åŠåŸºç¤æ•™å­¸", "url": "/posts/webpack5-getting-started/", "categories": "Vue.js, Webpack", "tags": "å®‰è£æ•™å­¸, Webpcak, Webpack5, Node.js, HTML, Javascript, Linux", "date": "2021-08-08 16:00:00 +0800", "content": "æ ¹æ“šç¶­åŸºç™¾ç§‘ï¼šã€ŒWebpack æ˜¯ä¸€å€‹é–‹æºçš„å‰ç«¯æ‰“åŒ…å·¥å…·ã€‚Webpack æä¾›äº†å‰ç«¯é–‹ç™¼ç¼ºä¹çš„æ¨¡çµ„åŒ–é–‹ç™¼æ–¹å¼ï¼Œå°‡å„ç¨®éœæ…‹è³‡æºè¦–ç‚ºæ¨¡çµ„ï¼Œä¸¦å¾å®ƒç”Ÿæˆå„ªåŒ–éçš„ç¨‹å¼ç¢¼ã€‚ã€ï¼Œä½¿ç”¨å‰å¿…é ˆå®‰è£ Node.jsã€‚ webpack å¾ç‰ˆæœ¬4.0.0é–‹å§‹ï¼Œå¯ä»¥ä¸éœ€è¦è¨­å®šè¨­å®šæª”(webpack.config.js)ï¼Œè¨­å®šæª”æœ€åŸºæœ¬çš„è¨­å®šåˆ†åˆ¥æ˜¯ï¼šEntryã€Outputï¼Œå‰è€…ä»£è¡¨ webpack å¿…é ˆå¾å“ªé‚Šé–‹å§‹é€²è¡Œæ‰“åŒ…ï¼Œå¾Œè€…å‰‡æ˜¯å®šç¾©å°è£è¼¸å‡ºçš„è·¯å¾‘ä»¥åŠæª”æ¡ˆåç¨±ã€‚ ä»¥ä¸‹åƒè€ƒå®˜ç¶²ç°¡å–®çš„ç¯„ä¾‹ï¼ŒåŸ·è¡Œå‰è«‹å…ˆå®‰è£ Node.jsï¼Œå¯ä»¥åƒè€ƒã€Œå®‰è£node jsã€æ›¿æ›æˆéœ€è¦çš„ç‰ˆæœ¬ã€‚ ä¸€ã€å®‰è£ è«‹å…ˆæ–°å¢ä¸€å€‹å°ˆæ¡ˆç›®éŒ„ï¼Œä¸¦å®‰è£ webpackã€webpack-cli mkdir webpack-demo cd webpack-demo&gt; cd webpack-demo&gt; npm init -y&gt; npm install webpack webpack-cli --save-dev æ­¤æ™‚ç›®éŒ„å…§æ‡‰è©²æœƒå¤šä¸€å€‹æª”æ¡ˆ package.json å’Œç›®éŒ„ node_module/ã€‚ äºŒã€æ–°å¢Entry module æ–°å¢ç›®éŒ„ src/ï¼Œä»¥åŠæª”æ¡ˆ index.js const element = document.createElement('div'); element.innerHTML = 'Hello World!'; document.body.appendChild(component()); ä¸‰ã€æ–°å¢Output æ–°å¢ç›®éŒ„ dist/ï¼Œä»¥åŠæª”æ¡ˆ index.html &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\" /&gt; &lt;title&gt;Getting Started&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script src=\"main.js\"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; æ­¤æ™‚çš„å°ˆæ¡ˆæ¶æ§‹æ‡‰è©²æœƒåƒæ˜¯ï¼š webpack-demo â”œâ”€â”€ package.json â”œâ”€â”€ dist â”‚ â””â”€â”€ index.html â””â”€â”€ src â””â”€â”€ index.js å››ã€åŸ·è¡Œ åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤é–‹å§‹æ‰“åŒ… npx webpack å®Œæˆå¾Œæœƒç™¼ç¾ç›®éŒ„ dist/ ä¸‹å¤šäº†ä¸€å€‹æª”æ¡ˆ main.jsï¼Œæ­¤æ™‚å¯ä»¥é–‹å•Ÿ index.html ï¼Œçœ‹åˆ° Hello World! å°±ä»£è¡¨æ‰“åŒ…æˆåŠŸå›‰ï¼ åœ¨æ²’æœ‰è¨­å®šæª”çš„æƒ…æ³ä¸‹ï¼Œwebpacké è¨­æœƒå°‹æ‰¾æª”å src æˆ–æ˜¯ç›®éŒ„ src/ åº•ä¸‹çš„ indexï¼Œä¸¦å°‡æ‰“åŒ…å¥½çš„æª”æ¡ˆæ”¾åˆ°ç›®éŒ„ dist/ åº•ä¸‹ï¼Œé è¨­æª”åæ˜¯ main.jsï¼Œç­‰åŒæ–¼ï¼š const path = require('path'); module.exports = { entry: './src/index.js', output: { filename: 'main.js', path: path.resolve(__dirname, 'dist'), }, ; å¯ä»¥é€éæŒ‡ä»¤ä¾†æŒ‡å®šè¨­å®šæª”çš„è·¯å¾‘åŠåç¨±ï¼š npx webpack --config webpack.config.js ç¯„ä¾‹é‚„æœªä½¿ç”¨Loaderã€Pluginç­‰åŠŸèƒ½ï¼Œåœ¨é€™å€‹ç¯„ä¾‹é‚„æœªä½¿ç”¨ css/imageï¼Œä¹Ÿå¯ä»¥é€é Loaderè¨­å®šè™•ç†ï¼Œå¦å¤–æ‰‹å‹•æ–°å¢ index.html ä¹Ÿå¯ä»¥é€éç›¸é—œçš„ Plugin è‡ªå‹•ç”¢ç”Ÿã€‚ å…¶ä»–é€²éšè¨­å®šçš„åŠŸèƒ½å¯ä»¥åƒè€ƒ https://webpack.js.org/guides/getting-started/ äº†è§£æ›´å¤šã€‚ " }, { "title": "[Vue.js] å¦‚ä½•å»ºç«‹ Vue3 + webpack5 å°ˆæ¡ˆç¯„ä¾‹", "url": "/posts/vue3-webpack5-template/", "categories": "Vue.js, Vue, Webpack", "tags": "Vue.js, Vue3, Webpcak, Webpack5, Node.js, HTML, Javascript, Linux", "date": "2021-08-08 16:00:00 +0800", "content": "ä»¥ä¸‹èªªæ˜å¦‚ä½•ä½¿ç”¨ webpack5 æ‰“åŒ… Vue3 å°ˆæ¡ˆï¼Œè‹¥å°šæœªå®‰è£ webpack 5ï¼Œå¯ä»¥åƒè€ƒã€Œ(webpack5 å®‰è£åŠåŸºç¤æ•™å­¸)[https://chenuin.github.io/webpack/2021/08/08/webpack5-getting-started.html]ã€ã€‚ ä¸€ã€å®‰è£ éœ€è¦å®‰è£çš„å¥—ä»¶å¦‚ä¸‹ï¼Œç‰¹åˆ¥éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ Vue3 è£¡æ”¯æ´å‰¯æª”å .vue çš„ single-file components çš„å¥—ä»¶ï¼Œå¾ vue-template-compiler è®Šæˆ @vue/compiler-sfcï¼š vue @vue/compiler-sfc vue-loader webpack webpack-cli è«‹å…ˆæ–°å¢å°ˆæ¡ˆï¼Œä¸¦åœ¨ç›®éŒ„å…§æ–°å¢ package.jsonï¼Œä¸¦ npm åŸ·è¡Œå®‰è£ã€‚ { \"name\": \"vue3-webpack5-template\", \"version\": \"1.0.0\", \"description\": \"vue3-webpack5-template\", \"private\": true, \"scripts\": { \"build\": \"webpack\" }, \"author\": \"chenuin\", \"license\": \"ISC\", \"devDependencies\": { \"@vue/compiler-sfc\": \"^3.1.5\", \"vue-loader\": \"^16.1.2\", \"webpack\": \"^5.49.0\", \"webpack-cli\": \"^4.7.2\" }, \"dependencies\": { \"vue\": \"^3.1.5\" } } åŸ·è¡ŒæŒ‡ä»¤å®‰è£ï¼š npm install äºŒã€è¨­å®šæ‰“åŒ…çš„è¨­å®šæª” é¦–å…ˆé‡å° Vue å°ˆæ¡ˆæ‰€è¨­å®šçš„ï¼ŒLoader å¯åˆ†ç‚ºtestã€loaderï¼Œå‰è€…æ˜¯å®šç¾©å“ªäº›æª”æ¡ˆéœ€è¦è™•ç†ï¼Œåƒé€™è£¡å°±æ˜¯å‰¯æª”åç‚º .vue çš„æª”æ¡ˆï¼›å¾Œè€…å‰‡æ˜¯ä½¿ç”¨å“ªä¸€å€‹å¥—ä»¶è™•ç† ï¼š module: { rules: [ { test: /\\.vue$/, loader: 'vue-loader' }, ], }, plugins: [ new VueLoaderPlugin(), ], ç•¶å°ˆæ¡ˆå…§import vue å¯ä»¥ä½¿ç”¨åˆ¥å(alias)ï¼š resolve: { alias: { vue: 'vue/dist/vue.esm-bundler.js', }, }, å› æ­¤å®Œæ•´çš„ webpack.config.js å¦‚ä¸‹ï¼š const path = require('path'); const { VueLoaderPlugin } = require('vue-loader'); module.exports = { entry: './src/index.js', output: { filename: 'main.js', path: path.resolve(__dirname, 'dist'), }, module: { rules: [ { test: /\\.vue$/, loader: 'vue-loader' }, ], }, resolve: { alias: { vue: 'vue/dist/vue.esm-bundler.js', }, }, plugins: [ new VueLoaderPlugin(), ], }; ä¸‰ã€æ–°å¢Entry, Ouputç­‰å…§å®¹ åœ¨ç›®éŒ„å…§ src/ æ–°å¢å…©å€‹æª”æ¡ˆ: Vue3 ä¸»è¦å…ƒä»¶ App.vue &lt;template&gt; &lt;div class=\"app\"&gt; &lt;p v-text=\"msg\" /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { name: 'App', setup() { return { msg: 'Hello World!', }; }, }; &lt;/script&gt; æ–°å¢ Entry File: index.js è¨­å®šåˆ¥åçš„ç”¨é€”å¯ä»¥çœ‹ç¬¬ä¸€è¡Œ import App from './App.vue';ã€‚ import { createApp } from 'vue'; import App from './App.vue'; createApp(App) .mount('#app'); ç›®éŒ„ dist/ å‰‡æ˜¯æ–°å¢ index.htmlï¼Œè¦æ³¨æ„çš„æ˜¯å…ˆå‰ index.js æ˜¯ç¶å®šåˆ° #appï¼Œæ‰€ä»¥ &lt;div id=\"app\"&gt;&lt;/div&gt; å°±æ˜¯ vue renderçš„åœ°æ–¹ã€‚ &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\" /&gt; &lt;title&gt;Getting Started&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\"app\"&gt;&lt;/div&gt; &lt;script src=\"./main.js\"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; æ­¤æ™‚çš„å°ˆæ¡ˆæ¶æ§‹æ‡‰è©²æœƒåƒæ˜¯ï¼š webpack-demo â”œâ”€â”€ package.json â”œâ”€â”€ dist â”‚ â””â”€â”€ index.html â””â”€â”€ src â”œâ”€â”€ App.vue â””â”€â”€ index.js å°ˆæ¡ˆå·²ç¶“ä¸Šå‚³ Github vue3-webpack5-templateï¼Œå¯ä»¥ä¸‹è¼‰ä½¿ç”¨ã€‚ å››ã€åŸ·è¡Œ åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤é–‹å§‹æ‰“åŒ… npx webpack å®Œæˆå¾Œç›®éŒ„ dist/ ä¸‹å¤šäº†ä¸€å€‹æª”æ¡ˆ main.jsï¼Œæ­¤æ™‚å¯ä»¥é–‹å•Ÿ index.html ï¼Œçœ‹åˆ° Hello World! å°±ä»£è¡¨æ‰“åŒ…æˆåŠŸå›‰ï¼ " }, { "title": "éœæ…‹ç¶²é éƒ¨è½æ ¼å·¥å…· Ruby + Jekyll å®‰è£æ•™å­¸", "url": "/posts/jekyll-getting-started/", "categories": "Jekyll", "tags": "å®‰è£æ•™å­¸, Github, HTML, Jekyll, Linux", "date": "2020-05-28 16:00:00 +0800", "content": "ä¸€ã€å®‰è£Ruby ä½œæ¥­ç³»çµ±ç‚ºUbuntu 20ï¼ŒæŒ‡ä»¤å¦‚ä¸‹ï¼š sudo apt update sudo apt install ruby-full build-essential zlib1g-dev è¨­å®šç”¨æˆ¶çš„ç’°å¢ƒè®Šæ•¸ï¼Œæ‡‰é¿å…ç”¨ root å®‰è£ Ruby Gemsã€‚ echo '# Install Ruby Gems to ~/gems' &gt;&gt; ~/.bashrc echo 'export GEM_HOME=\"$HOME/gems\"' &gt;&gt; ~/.bashrc echo 'export PATH=\"$HOME/gems/bin:$PATH\"' &gt;&gt; ~/.bashrc source ~/.bashrc äºŒã€å®‰è£Jekyll Rubyä¸­ä½¿ç”¨Gemä½œç‚ºå¥—ä»¶ç®¡ç†çš„å·¥å…·ï¼Œå°±åƒæ˜¯pythonå’Œpipçš„é—œä¿‚ã€‚å®‰è£å¥—ä»¶çš„æ–¹å¼ gem install [packageName]ï¼š gem install jekyll bundler ä¸‰ã€å»ºç«‹æ–°å°ˆæ¡ˆ æ–°å¢ä¸€å€‹ myblog çš„å°ˆæ¡ˆ jekyll new myblog åœ¨ç›®éŒ„ä¸‹æ‡‰è©²æœƒç™¼ç¾æ–°çš„è³‡æ–™å¤¾ /myblogï¼Œå¤§è‡´çš„å…§å®¹å¯ä»¥åƒè€ƒä¸€ä¸‹ â”œâ”€â”€ 404.html â”œâ”€â”€ about.markdown â”œâ”€â”€ _config.yml â”œâ”€â”€ Gemfile â”œâ”€â”€ Gemfile.lock â”œâ”€â”€ index.markdown â”œâ”€â”€ _posts â”‚ â””â”€â”€ 2020-05-27-welcome-to-jekyll.markdown â””â”€â”€ _site â”œâ”€â”€ 404.html â”œâ”€â”€ about â”œâ”€â”€ assets â”œâ”€â”€ feed.xml â”œâ”€â”€ index.html â””â”€â”€ jekyll å››ã€é–‹å•Ÿæœå‹™ é€²å…¥ç›®éŒ„å¾Œï¼Œå•Ÿå‹•ä¼ºæœå™¨ï¼Œé è¨­ä¸»æ©Ÿåç¨± localhost ã€åŸ è™Ÿ 4000ï¼Œå¯ä»¥æ ¹æ“šéœ€æ±‚è¨­å®šï¼š cd myblog bundle exec jekyll serve // or you can ... bundle exec jekyll serve --host=[ip address] --port=[port number] ç€è¦½å™¨é–‹å•Ÿ http://localhost:4000 ï¼Œå°±å¯ä»¥çœ‹åˆ°é è¨­çš„é¦–é ï¼Œå®‰è£å°±å‘Šä¸€æ®µè½ï¼Œå¯ä»¥é–‹å§‹é€²è¡Œé–‹ç™¼ã€‚ " }, { "title": "[Vue.js] v-forè¨­å®škeyçš„ä½œç”¨èˆ‡å½±éŸ¿", "url": "/posts/vuejs-v-for-key/", "categories": "Vue.js, Vue", "tags": "Vue.js, Javascript, Node.js", "date": "2019-06-16 16:00:00 +0800", "content": "v-forè¿­ä»£é™£åˆ—æˆ–ç‰©ä»¶æ™‚éœ€è¦è¨­å®škeyï¼Œæ˜¯ç‚ºäº†é¿å…é‡è¤‡ç”¢ç”ŸDOMå…ƒç´ è€Œæµªè²»è³‡æºï¼Œå› æ­¤å°‡keyè¦–ç‚ºä¸€å€‹è¾¨è­˜çš„ä¾æ“šï¼Œæ‰€æœ‰çš„keyå¿…é ˆä¿æŒå”¯ä¸€ã€‚å› æ­¤å¦‚æœkeyå€¼ä¸å°å¿ƒé‡è¤‡ï¼Œconsoleç”šè‡³æœƒå‡ºç¾ Duplicate keys detected: ... This may cause an update error. é€™æ¨£çš„è­¦ç¤ºè¨Šæ¯ã€‚ ç‚ºäº†é¡¯ç¤ºkeyçš„ä½œç”¨å’Œå½±éŸ¿ï¼Œç”¨ä¸‹é¢çš„ä¾‹å­ä¾†çœ‹ï¼Œç¨‹å¼å…§å®¹å¤§æ„æ˜¯æ ¹æ“š menu çš„å…§å®¹ç”¢ç”Ÿå¤šå€‹ product-box ï¼Œå…©å€‹å”¯ä¸€çš„å·®åˆ¥æ˜¯å‰è‘—ç”¨ index ç•¶ key ï¼Œå¾Œè€…å‰‡æ˜¯ç”¨ id ç•¶ä½œ keyï¼Œæ­¤å¤–å¤šåŠ ä¸€å€‹ button ä¾†æ›´å‹•è³‡æ–™çš„å…§å®¹ã€‚ &lt;template&gt; &lt;div&gt; &lt;product-box v-for=\"item,index in menu\" :key=\"index\" :value=\"item.id\"&gt; &lt;/product-box&gt; &lt;product-box v-for=\"item in menu\" :key=\"item.id\" :value=\"item.id\"&gt; &lt;/product-box&gt; &lt;button @click=\"addFirstElement\"&gt;Add&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import ProductBox from './ProductBox' export default { data () { return { menu: [ {id: 'A001', name: 'milk tea'}, {id: 'A002', name: 'juice'} ] } }, methods: { addFirstElement: function() { let first_elm = [{id: 'A000', name: 'coffee'}]; this.menu = first_elm.concat(this.menu); } }, components: { ProductBox } } &lt;/script&gt; ProductBox.vue &lt;template&gt; &lt;div&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data: function() { return { dispay_text: '' } }, props: { 'value': String }, created: function() { this.dispay_text = this.value; } } &lt;/script&gt; åˆå§‹çš„æƒ…æ³ä¸‹ï¼š A001 milk tea A002 juice æ¥è‘—ï¼Œé»buttonåœ¨é–‹é ­æ’å…¥ä¸€å€‹æ–°çš„è³‡æ–™ï¼Œé æƒ³çš„é¡¯ç¤ºå¦‚ä¸‹ï¼Œå¦‚æœç”¨idç•¶ä½œkeyçš„è©±ä¹Ÿæ˜¯ç”¢ç”Ÿä¸€æ¨£çš„çµæœã€‚ // key=id A000 coffee A001 milk tea A002 juice é€™æ™‚å› ç‚ºç”¨indexç•¶ä½œkeyï¼Œæ‰€ä»¥åŸæœ¬index 1å’Œ2å› ç‚ºæ²’æœ‰åµæ¸¬åˆ°è®ŠåŒ–ä¸¦ä¸æœƒé‡æ–°ç”¢ç”Ÿï¼Œä¹Ÿå°±æ˜¯ä¸æœƒé‡æ–°ç¶“æ­·createdï¼Œæ‰€ä»¥å‡ºç¾æ‰€è¬‚çš„ update error ï¼Œçµæœæœƒè®Šæˆï¼š // key=index A001 coffee A002 milk tea A002 juice é›–ç„¶ç”¨indexç•¶ä½œkeyå¾ˆæ–¹ä¾¿ï¼Œä½†ä¸¦éæ‰€æœ‰çš„æƒ…æ³éƒ½é©åˆä½¿ç”¨indexç•¶ä½œkeyã€‚ " }, { "title": "[Vue.js] çˆ¶å­å…ƒä»¶çš„é›™å‘æºé€šç¤ºç¯„", "url": "/posts/vuejs-props-emit/", "categories": "Vue.js, Vue", "tags": "Vue.js, Javascript, Node.js", "date": "2019-01-23 16:00:00 +0800", "content": "ç¬¬ä¸€éƒ¨åˆ†ã€çˆ¶å…ƒä»¶â†’å­å…ƒä»¶ åˆ©ç”¨propså°‡è³‡æ–™å‚³çµ¦componentsä½¿ç”¨ 1. å­å…ƒä»¶çš„è¨­å®š é¦–å…ˆæœ‰ä¸€å€‹å­å…ƒä»¶(child component)ï¼Œæˆ‘å€‘è¨­å®šä¸€å€‹ props ç‚º userNameï¼Œå‹æ…‹ç‚ºStringï¼Œå¦‚æœdataå…§çš„åƒæ•¸ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿è£¡ç”¨ `` å°å‡ºï¼Œæˆ–åœ¨functionå…§ä»¥ this.userName ä¾†é€²è¡Œæ“ä½œã€‚ templateçš„å…§å®¹æ˜¯ä»¥é¡¯ç¤º userName åœ¨ä¸€å€‹HTMLçš„è¼¸å…¥æ¡†è£¡ // Child Component Vue.component(\"child-input\", { template: ` &lt;div&gt; &lt;label&gt;Name&lt;/label&gt; &lt;input v-model=\"childUserName\" type=\"text\"/&gt; &lt;/div&gt; `, props: { // camelCase in JavaScript userName: String }, data: function() { return { childUserName: this.userName }; } }); â€» Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. ä»£è¡¨Vueæœƒè­¦å‘Šä½ ç›¡é‡ä¸è¦ç›´æ¥ä¿®æ”¹propsåƒæ•¸çš„å€¼ï¼Œå› æ­¤æˆ‘å€‘è¨­å®šäº†childUserNameä¾†é¿å…é€™å€‹å•é¡Œã€‚ 2. çˆ¶å…ƒä»¶çš„è¨­å®š åœ¨HTMLè£¡è¦ç”¨user-nameä¾†å‚³å€¼ï¼Œä¹Ÿå°±æ˜¯èªªcomponentçš„å‘½åæ³•éµå¾ª camelCase ï¼Œåˆ°HTMLå…§æ™‚å‰‡æ˜¯ç”¨ kebab-case ä¾†è­˜åˆ¥ã€‚ user-nameå’Œ :user-name å…©è€…çš„ç”¨æ³•ä¸åŒï¼Œå¦‚æœæ˜¯ user-name=\"initial_input\"ï¼ŒæœƒæŠŠ â€œinitial_inputâ€ ç•¶æˆå­—ä¸²å‚³éå»ï¼Œå¦‚æœå‰é¢åŠ ä¸Šå†’è™Ÿã€Œ:ã€è®Šæˆ :user-name=\"inital_input\"ï¼Œå‰‡æ˜¯æŠŠ inital_input é€™å€‹åƒæ•¸çš„å€¼å‚³éå»ã€‚ &lt;!-- HTML --&gt; &lt;div id=\"app\"&gt; &lt;!-- kebab-case in HTML --&gt; &lt;child-input :user-name=\"initial_input\"&gt;&lt;/child-input&gt; &lt;/div&gt; // js new Vue({ el: \"#app\", data: function() { return { initial_input: \"Annie\", }; } }); ç¬¬äºŒéƒ¨åˆ†ã€å­å…ƒä»¶â†’çˆ¶å…ƒä»¶ åˆ©ç”¨emitå°‡componentsçš„è³‡æ–™å›å‚³ 1. å­å…ƒä»¶çš„è¨­å®š å»¶çºŒç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘å€‘åœ¨methodså…§æ–°å¢ä¸€å€‹ sendToParent çš„functionï¼Œ@input=\"sendToParent\" ä»£è¡¨æˆ‘å€‘è§¸ç™¼çš„æ™‚æ©Ÿã€‚ çœ‹ä¸€ä¸‹ sendToParent å…§å®¹ï¼Œ$emit å¾Œé¢ç¬¬ä¸€å€‹åƒæ•¸â€update-textâ€œï¼Œä»£è¡¨è¨­å®šä¸€å€‹ update-text çš„äº‹ä»¶ï¼Œç¬¬äºŒåƒæ•¸æ˜¯åŒæ™‚æŠŠ childUserName é€™å€‹åƒæ•¸å‚³å‡ºå»ï¼Œå¦‚æœéœ€è¦å‚³æ›´å¤šçš„åƒæ•¸ï¼Œç›´æ¥ç”¨é€—è™Ÿåˆ†éš”æ¥åœ¨å¾Œé¢ã€‚ Vue.component(\"child-input\", { template: ` &lt;div class=\"form-group mt-3\"&gt; &lt;label&gt;Name&lt;/label&gt; &lt;input v-model=\"childUserName\" @input=\"sendToParent\" type=\"text\"/&gt; &lt;/div&gt; `, props: { userName: String }, data: function() { return { childUserName: this.userName }; }, methods: { sendToParent: function() { this.$emit(\"update-text\", this.childUserName); } } }); 2. çˆ¶å…ƒä»¶çš„è¨­å®š çˆ¶å…ƒä»¶çš„éƒ¨åˆ†ä¹Ÿæ–°å¢ä¸€å€‹ getChildText çš„functionä¾†æ¥æ”¶å­å…ƒä»¶çš„è³‡æ–™ï¼Œç•¶å­å…ƒä»¶è§¸ç™¼â€™update-textâ€˜æ™‚ï¼Œå°±æœƒåŸ·è¡Œ getChildText ä¾†æ¥æ”¶å‚³é€çš„å€¼ï¼Œvalueå°±æ˜¯å¾å­å…ƒä»¶å‚³ä¾†çš„ childUserNameã€‚å¦‚æœå‚³å¤šå€‹å€¼ï¼Œè¨˜å¾—åœ¨é€™é‚Šå¡«ç›¸æ‡‰æ•¸é‡çš„åƒæ•¸ä¾†æ¥æ”¶ã€‚ // JS new Vue({ el: \"#app\", data: function() { return { initial_input: \"Annie\", }; }, methods: { getChildText: function(value) { this.initial_input = value; } } }); &lt;!-- HTML --&gt; &lt;div id=\"app\"&gt; &lt;child-input :user-name=\"initial_input\" @update-text=\"getChildText\"&gt;&lt;/child-input&gt; &lt;/div&gt; å®Œæ•´çš„ç¨‹å¼ç¢¼è«‹åƒè€ƒcodepenä¸Šçš„ç¯„ä¾‹ï¼šSending Messages between Parent and Child ç›¸é—œæ–‡ç« ï¼š [Vue.js] å¦‚ä½•åœ¨componentè‡ªè¨‚v-model " } ]
